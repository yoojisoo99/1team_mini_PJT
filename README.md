<<<<<<< HEAD
# ì£¼ì‹ íë¦„ ì‹œìž¥ ë¶„ì„ í”„ë¡œì íŠ¸

## í”„ë¡œì íŠ¸ ëª©í‘œ
- ë§¤ë„, ë§¤ìˆ˜, ê±°ëž˜ ê¸ˆì•¡ ë“± ì£¼ì‹ ë°ì´í„° ë¶„ì„ì„ í†µí•´ ì‚¬ìš©ìž ë§žì¶¤ ì¢…ëª© ì¶”ì²œ
- ê°œì¸ ë§žì¶¤ ë‰´ìŠ¤ë ˆí„°ë¥¼ ìƒì„±í•˜ì—¬ ì‹ ë¢°ì„± ë†’ì€ íˆ¬ìž ì •ë³´ ì œê³µ

## ì£¼ìš” ê¸°ëŠ¥ ë° ë‚´ìš©
1. **ë°ì´í„° ìˆ˜ì§‘**
   - ë„¤ì´ë²„ ì£¼ì‹ ì‚¬ì´íŠ¸ì—ì„œ ì›¹ìŠ¤í¬ëž˜í•‘ì„ í†µí•´ ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì§‘
   - ìˆ˜ì§‘í•œ ë°ì´í„°ë¥¼ DB ì„œë²„ì— ì €ìž¥í•˜ì—¬ ê´€ë¦¬

2. **ë°ì´í„° ë¶„ì„**
   - ë°”ì´ë¸Œ ì½”ë”©(VIBE Coding)ì„ í™œìš©í•œ ì£¼ê°€ íë¦„ ë¶„ì„
   - ë§¤ìˆ˜, ë§¤ë„ ë° ê±°ëž˜ ê¸ˆì•¡ íŠ¸ë Œë“œ íŒŒì•…

3. **ì¶”ì²œ ì‹œìŠ¤í…œ ê°œë°œ**
   - ë¶„ì„ ê²°ê³¼ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°œì¸ ë§žì¶¤ ì¢…ëª© ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„
   - ì‚¬ìš©ìžë³„ íˆ¬ìž ì„±í–¥ ë°˜ì˜

4. **ë‰´ìŠ¤ë ˆí„° ìƒì„±**
   - ê°œì¸í™”ëœ ë‰´ìŠ¤ë ˆí„° ìžë™ ìƒì„±
   - ì¢…ëª©ë³„ ì‹ ë¢°ë„ ë†’ì€ ë‰´ìŠ¤ì™€ ì‹œìž¥ ë™í–¥ ìš”ì•½ ì œê³µ

## ì‚¬ìš© ê¸°ìˆ 
- Python (ì›¹ìŠ¤í¬ëž˜í•‘, ë°ì´í„° ì²˜ë¦¬)
 . ë¶„ì„ë„êµ¬ : Pandas
 . ìˆ˜ì§‘ë„êµ¬ : 
- DB ì„œë²„ (MySQL)
- ë°”ì´ë¸Œ ì½”ë”©(VIBE Coding)

## ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•
- ì¶”ê°€ì˜ˆì •

## Pipeline
- ì¶”ê°€ì˜ˆì •
=======
# ðŸ“Š íˆ¬ìž ì„±í–¥ë³„ ì£¼ì‹ ì¶”ì²œ ì›¹ì•±

> ë„¤ì´ë²„ ê¸ˆìœµ ë°ì´í„° ê¸°ë°˜ | Streamlit ëŒ€ì‹œë³´ë“œ | íˆ¬ìž ì„±í–¥ ë§žì¶¤ ì¶”ì²œ

---

## ðŸŽ¯ í”„ë¡œì íŠ¸ ëª©í‘œ

- ë„¤ì´ë²„ ì¦ê¶Œ ì›¹ìŠ¤í¬ëž˜í•‘ìœ¼ë¡œ ê±°ëž˜ëŸ‰Â·ì™¸êµ­ì¸/ê¸°ê´€ ë§¤ë§¤ ë°ì´í„° ìˆ˜ì§‘
- í•œì–‘ì¦ê¶Œ ê¸°ì¤€ 11ë¬¸í•­ ì„¤ë¬¸ â†’ **5ë‹¨ê³„ íˆ¬ìž ì„±í–¥ ë¶„ë¥˜**
- ì„±í–¥ë³„ ë§žì¶¤ ì¢…ëª© ì¶”ì²œ ë° ì¸í„°ëž™í‹°ë¸Œ ì‹œê°í™”
- Streamlit ê¸°ë°˜ ëŒ€ì‹œë³´ë“œ ì›¹ì•±
- íšŒì›ê°€ìž…/ë¡œê·¸ì¸ ê¸°ë°˜ ê°œì¸í™” ì„œë¹„ìŠ¤

---

## ðŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

| ë¶„ë¥˜ | ê¸°ìˆ  |
|------|------|
| ì›¹ ìŠ¤í¬ëž˜í•‘ | `requests`, `BeautifulSoup4`, `pykrx` |
| ë°ì´í„° ë¶„ì„ | `pandas`, `numpy` |
| ì‹œê°í™” | `plotly`, `matplotlib`, `seaborn` |
| ì›¹ì•± | `streamlit` |
| ë°ì´í„° ì €ìž¥ | `pymysql`, `sqlalchemy` / CSV fallback |
| ì¸ì¦ | `bcrypt` |
| ìžë™í™” | `apscheduler` |
| í™˜ê²½ ê´€ë¦¬ | `uv`, `python-dotenv` |

---

## ðŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
miniproject_1/
â”œâ”€â”€ app.py              # Streamlit ì›¹ì•± (ë©”ì¸)
â”œâ”€â”€ scraper.py          # ë„¤ì´ë²„ ì¦ê¶Œ ìŠ¤í¬ëž˜í•‘ ëª¨ë“ˆ
â”œâ”€â”€ analyzer.py         # íˆ¬ìž ì„±í–¥ ë¶„ì„ & ì¶”ì²œ ì—”ì§„
â”œâ”€â”€ rtd_analyzer.py     # ì‹¤ì‹œê°„ ê±°ëž˜ëŸ‰ ëª¨ë©˜í…€ ë¶„ì„
â”œâ”€â”€ scheduler_job.py    # APScheduler ìžë™ ìˆ˜ì§‘ê¸°
â”œâ”€â”€ fetch_inv.py        # ì™¸êµ­ì¸/ê¸°ê´€ ìˆœë§¤ìˆ˜ ìˆ˜ì§‘
â”œâ”€â”€ config.py           # í™˜ê²½ ì„¤ì • ê´€ë¦¬
â”œâ”€â”€ db_manager.py       # DB ì—°ë™ (CSV fallback í¬í•¨)
â”œâ”€â”€ schema.sql          # MySQL ìŠ¤í‚¤ë§ˆ ì •ì˜
â”œâ”€â”€ CHANGELOG.md        # ê°œë°œ ë³€ê²½ ì´ë ¥
â”œâ”€â”€ .env.example        # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â”œâ”€â”€ pyproject.toml      # ì˜ì¡´ì„± ê´€ë¦¬ (uv)
â””â”€â”€ data/               # ë¡œì»¬ ë°ì´í„° ì €ìž¥
    â”œâ”€â”€ stock_data_YYYYMMDD.csv
    â”œâ”€â”€ stock_market_data_fallback.csv
    â””â”€â”€ users_db.json   # ì‚¬ìš©ìž ê³„ì • ì •ë³´
```

---

## ðŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# 1. ì˜ì¡´ì„± ì„¤ì¹˜
uv sync

# 2. ë°ì´í„° ìˆ˜ì§‘ (ìµœì´ˆ 1íšŒ)
uv run python scraper.py

# 3. Streamlit ì•± ì‹¤í–‰
uv run streamlit run app.py

# 4. ìžë™ ìˆ˜ì§‘ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰ (ë³„ë„ í„°ë¯¸ë„)
uv run python scheduler_job.py
```

> ðŸ’¡ `scheduler_job.py`ëŠ” í‰ì¼ **09:00 ~ 15:00 ë§¤ ì •ê°**ì— ìžë™ìœ¼ë¡œ ì‹œì„¸ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.

---

## ðŸ—‚ï¸ ë°ì´í„° íŒŒì´í”„ë¼ì¸

```
ë°ì´í„° ìˆ˜ì§‘ (scraper.py / scheduler_job.py)
    â”œâ”€â”€ [requests+BS4] KOSPI/KOSDAQ ê±°ëž˜ëŸ‰ ìƒìœ„ 100ì¢…ëª©
    â”œâ”€â”€ [requests+BS4] ì™¸êµ­ì¸/ê¸°ê´€ ìˆœë§¤ìˆ˜ ë°ì´í„°
    â””â”€â”€ [pykrx] 7ì¼ì¹˜ ê³¼ê±° ì‹œì„¸ (OHLCV)
         â†“
ë°ì´í„° ì •ì œ & CSV / MySQL ì €ìž¥ (db_manager.py)
         â†“
íˆ¬ìž ì„±í–¥ ë¶„ì„ (analyzer.py)
    â”œâ”€â”€ 11ë¬¸í•­ ì„¤ë¬¸ â†’ 5ë‹¨ê³„ ì„±í–¥ ë¶„ë¥˜
    â”œâ”€â”€ trend_score ì‚°ì¶œ (ë“±ë½ë¥  40% + ê±°ëž˜ëŸ‰ 20% + ì™¸êµ­ì¸ 20% + ê¸°ê´€ 20%)
    â””â”€â”€ BUY / HOLD / SELL ì‹ í˜¸ ìžë™ ìƒì„±
         â†“
ì‹¤ì‹œê°„ ë¶„ì„ (rtd_analyzer.py)
    â”œâ”€â”€ ì§ì „ ì‹œê°„ ëŒ€ë¹„ ê±°ëž˜ëŸ‰ ê¸‰ì¦ TOP 10 (seaborn)
    â””â”€â”€ í˜„ìž¬ê°€ vs ê±°ëž˜ëŒ€ê¸ˆ ì‚°ì ë„ (matplotlib)
         â†“
Streamlit ëŒ€ì‹œë³´ë“œ (app.py)
    â”œâ”€â”€ ðŸ  ì‹œìž¥ ê°œìš” (Top 50 ì‹œì„¸ + ê±°ëž˜ëŸ‰ ì°¨íŠ¸)
    â”œâ”€â”€ â±ï¸ ì‹¤ì‹œê°„ ë¶„ì„ RTD
    â”œâ”€â”€ ðŸ“‹ íˆ¬ìž ì„±í–¥ ì„¤ë¬¸
    â”œâ”€â”€ â­ ë§žì¶¤ ì¢…ëª© ì¶”ì²œ [ðŸ” ë¡œê·¸ì¸ í•„ìš”]
    â”œâ”€â”€ ðŸ“ˆ ë¶„ì„ ì‹ í˜¸ (BUY/HOLD/SELL)
    â”œâ”€â”€ ðŸ“° ì¢…ëª© ë‰´ìŠ¤
    â””â”€â”€ ðŸ“§ ë‰´ìŠ¤ë ˆí„° [ðŸ” ë¡œê·¸ì¸ í•„ìš”]
```

---

## ðŸ‘¤ íˆ¬ìž ì„±í–¥ 5ë‹¨ê³„

| ì„±í–¥ | ì„¤ëª… | ì¶”ì²œ ì „ëžµ |
|------|------|-----------| 
| ðŸ›¡ï¸ ì•ˆì •í˜• | ì›ê¸ˆ ì†ì‹¤ ë¯¸í—ˆìš© | ê³ ë°°ë‹¹ ëŒ€í˜• ìš°ëŸ‰ì£¼ |
| ðŸ”’ ì•ˆì •ì¶”êµ¬í˜• | ì•ˆì •ì  íˆ¬ìž, ì¼ë¶€ ë³€ë™ í—ˆìš© | ë°°ë‹¹+ê°€ì¹˜ì£¼, ê¸°ê´€ ë§¤ìˆ˜ |
| âš–ï¸ ìœ„í—˜ì¤‘ë¦½í˜• | ì¼ì • ì†ì‹¤ ê°ìˆ˜ | ì„±ìž¥ì£¼, ì™¸êµ­ì¸ ë§¤ìˆ˜ |
| ðŸš€ ì ê·¹íˆ¬ìží˜• | ë†’ì€ ìˆ˜ìµ ì¶”êµ¬ | ëª¨ë©˜í…€, ê³ ë³€ë™ì„± |
| ðŸ”¥ ê³µê²©íˆ¬ìží˜• | ì‹œìž¥ ì´ˆê³¼ ìˆ˜ìµ ì¶”êµ¬ | í…Œë§ˆì£¼, ìµœê³  ê±°ëž˜ëŸ‰ |

---

## ðŸ” íšŒì› ì¸ì¦ ì‹œìŠ¤í…œ

íšŒì›ê°€ìž… ì‹œ **ì•„ì´ë”” / ì´ë©”ì¼ / ë¹„ë°€ë²ˆí˜¸**ë¥¼ ìž…ë ¥í•˜ì—¬ ê³„ì •ì„ ìƒì„±í•©ë‹ˆë‹¤.

**ì‚¬ìš©ìž ë°ì´í„° êµ¬ì¡° (`data/users_db.json`)**

```json
{
  "userid": {
    "user_password": "$2b$12$...",
    "user_email": "user@example.com",
    "type_id": "ìœ„í—˜ì¤‘ë¦½í˜•"
  }
}
```

| í•­ëª© | ë‚´ìš© |
|------|------|
| ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” | `bcrypt` (`hashpw` / `checkpw`) |
| ì„±í–¥ ì €ìž¥ | ì„¤ë¬¸ ì™„ë£Œ ì‹œ `type_id` ìžë™ ì—…ë°ì´íŠ¸ |
| ì ‘ê·¼ ì œì–´ | ì¶”ì²œ/ë‰´ìŠ¤ë ˆí„° íŽ˜ì´ì§€ ë¯¸ë¡œê·¸ì¸ ì°¨ë‹¨ |

---

## ðŸ—„ï¸ DB ìŠ¤í‚¤ë§ˆ (MySQL)

```sql
-- ì‹œê°„ë³„ ì‹œì„¸ ë°ì´í„° (scheduler_job.pyê°€ ë§¤ ì •ê° INSERT)
CREATE TABLE stock_market_data (
    ì¢…ëª©ì½”ë“œ   VARCHAR(10),
    ì¢…ëª©ëª…     VARCHAR(50),
    ì‹œìž¥       VARCHAR(10),
    í˜„ìž¬ê°€     BIGINT,
    ì „ì¼ë¹„     BIGINT,
    ë“±ë½ë¥      VARCHAR(10),
    ë“±ë½ë¥ _num FLOAT,
    ê±°ëž˜ëŸ‰     BIGINT,
    ê±°ëž˜ëŒ€ê¸ˆ   BIGINT,
    ìˆ˜ì§‘ì‹œê°„   DATETIME
);

-- ì‚¬ìš©ìž ê³„ì •
CREATE TABLE users (
    user_id       VARCHAR(50) PRIMARY KEY,
    user_password VARCHAR(200),
    user_email    VARCHAR(100),
    type_id       VARCHAR(20) DEFAULT 'ë¯¸ì •'
);
```

> DB ë¯¸ì—°ê²° ì‹œ `data/` í´ë”ì— CSVë¡œ ìžë™ ë°±ì—…ë©ë‹ˆë‹¤.

---

## ðŸ“¦ ì£¼ìš” ì˜ì¡´ì„±

```toml
dependencies = [
    "streamlit", "pykrx", "pandas", "numpy",
    "plotly", "seaborn", "matplotlib",
    "requests", "beautifulsoup4",
    "sqlalchemy", "pymysql",
    "apscheduler", "bcrypt", "python-dotenv"
]
```

---

## ðŸ› ì£¼ìš” ë²„ê·¸ ìˆ˜ì • ì´ë ¥

| ë²„ê·¸ | ì›ì¸ | í•´ê²° |
|------|------|------|
| ì…€ë ‰íŠ¸ë°•ìŠ¤ ë“œë¡­ë‹¤ìš´ í…ìŠ¤íŠ¸ ì•ˆë³´ìž„ | CSS í¬íƒˆ ì»¨í…Œì´ë„ˆ ë¯¸ì²˜ë¦¬ | `div[role="listbox"]` ë³„ë„ ìŠ¤íƒ€ì¼ ì ìš© |
| ì™¸êµ­ì¸ ë°ì´í„° ë³‘í•© ì˜¤ë¥˜ | ì¢…ëª©ì½”ë“œ int/str íƒ€ìž… ë¶ˆì¼ì¹˜ | `zfill(6)` ì •ê·œí™” í›„ ë³‘í•© |
| bcrypt 72ë°”ì´íŠ¸ ì—ëŸ¬ | `passlib` + `bcrypt>=4` í˜¸í™˜ ë¬¸ì œ | raw `bcrypt` ì§ì ‘ ì‚¬ìš© ì „í™˜ |
| Expander ë°°ê²½ ë°ìŒ | CSS ë¯¸ì§€ì • | `[data-testid="stExpander"]` ë‹¤í¬ ìŠ¤íƒ€ì¼ ì¶”ê°€ |
| `SyntaxError` in app.py | replace ì˜¤ë¥˜ë¡œ ë‘ ë¬¸ìž¥ í•©ì³ì§ | ê°œí–‰ ë³µêµ¬ |

---

*Â© 2026 1íŒ€ ë¯¸ë‹ˆí”„ë¡œì íŠ¸ â€” ì£¼ì‹ ì¶”ì²œ ì‹œìŠ¤í…œ*
>>>>>>> 74c9dccb7912e9876696a88823f96a6c18236a78
