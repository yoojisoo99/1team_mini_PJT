# ğŸ“Š LUMINA CAPITAL - íˆ¬ì ì„±í–¥ ë§ì¶¤í˜• ìì‚°ê´€ë¦¬ ì‹œìŠ¤í…œ

> **"ë‹¹ì‹ ì„ ìœ„í•œ íˆ¬ìì˜ ê¸¸ì¡ì´"**  
> ë„¤ì´ë²„ ê¸ˆìœµ ì‹¤ì‹œê°„ ë°ì´í„°ì™€ ì •êµí•œ íˆ¬ì ì„±í–¥ ë¶„ì„ ì•Œê³ ë¦¬ì¦˜ì„ ê²°í•©í•œ ë§ì¶¤í˜• ì£¼ì‹ ì¶”ì²œ ëŒ€ì‹œë³´ë“œì…ë‹ˆë‹¤.

---

## ğŸŒŸ Key Features

### 1. ğŸ  ë©”ì¸ ëŒ€ì‹œë³´ë“œ (Real-time Market Overview)
- **ì‹¤ì‹œê°„ ë°ì´í„° ì‹œê°í™”**: KOSPI/KOSDAQ ê±°ë˜ëŸ‰ ìƒìœ„ ì¢…ëª©ì˜ ì‹œì„¸ ì •ë³´ë¥¼ Plotlyë¥¼ ì´ìš©í•œ ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸ë¡œ ì œê³µí•©ë‹ˆë‹¤.
- **ì‹œì¥ ì§€í‘œ ë¶„ì„**: ê±°ë˜ëŸ‰, ë“±ë½ë¥ , ì‹œê°€ì´ì•¡ ë“± ì£¼ìš” ì§€í‘œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ì‹œì¥ í˜„í™© íŒŒì•….
- **ê³ ê¸‰ ì‹œê°í™”**: Seaborn íˆíŠ¸ë§µê³¼ Matplotlibì„ í™œìš©í•œ ê±°ë˜ëŒ€ê¸ˆ ë° ë³€ë™ì„± ë¶„ì„.

### 2. ğŸ“‹ íˆ¬ì ì„±í–¥ ì„¤ë¬¸ (Investor Profiling)
- **ì‹ ë¢°ë„ ë†’ì€ ì§„ë‹¨**: í•œì–‘ì¦ê¶Œ íˆ¬ìì„±í–¥ì§„ë‹¨ ê¸°ì¤€ 11ë¬¸í•­ì„ ê¸°ë°˜ìœ¼ë¡œ ì •ë°€í•œ ì„±í–¥ ë¶„ì„ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
- **5ë‹¨ê³„ ë¶„ë¥˜**: ì•ˆì •í˜•, ì•ˆì •ì¶”êµ¬í˜•, ìœ„í—˜ì¤‘ë¦½í˜•, ì ê·¹íˆ¬ìí˜•, ê³µê²©íˆ¬ìí˜•ìœ¼ë¡œ ì‚¬ìš©ì ë¶„ë¥˜.
- **ë ˆì´ë” ì°¨íŠ¸**: ì‚¬ìš©ìì˜ ì‘ë‹µ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹œê°ì ì¸ ì„±í–¥ ë¶„ì„ ê²°ê³¼ ì œê³µ.

### 3. â­ ë§ì¶¤ ì¢…ëª© ì¶”ì²œ (Personalized Recommendations)
- **ë§ì¶¤í˜• ìŠ¤ì½”ì–´ë§**: ì‚¬ìš©ìì˜ ì„±í–¥ ê°€ì¤‘ì¹˜(ë°°ë‹¹, ì‹œì´, ë³€ë™ì„±, ìˆ˜ê¸‰ ë“±)ë¥¼ ë°˜ì˜í•˜ì—¬ ìµœì ì˜ ì¢…ëª© 10ê°œë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.
- **ì¶”ì²œ ì‚¬ìœ  ì œê³µ**: ì™œ ì´ ì¢…ëª©ì´ ì¶”ì²œë˜ì—ˆëŠ”ì§€ì— ëŒ€í•œ í€€íŠ¸ ì§€í‘œ ê¸°ë°˜ì˜ ì¹œì ˆí•œ ì„¤ëª…ì„ ë™ë°˜í•©ë‹ˆë‹¤.
- **ë¡œê·¸ì¸ ê¸°ë°˜ ì„œë¹„ìŠ¤**: ê°œì¸ë³„ ì„¤ë¬¸ ê²°ê³¼ ë° ì¶”ì²œ ë‚´ì—­ì„ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•©ë‹ˆë‹¤.

### 4. ğŸ“ˆ ë¶„ì„ ì‹ í˜¸ ë° RTD (Analysis Signals & Real-time Detection)
- **BUY/HOLD/SELL ì‹œê·¸ë„**: ë“±ë½ë¥ , ê±°ë˜ëŸ‰, ìˆ˜ê¸‰(ì™¸ì¸/ê¸°ê´€)ì„ ì¢…í•©í•˜ì—¬ ìì²´ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ìƒì„±ëœ íˆ¬ì ì˜ê²¬ì„ ì œê³µí•©ë‹ˆë‹¤.
- **RTD (Real-time Detection)**: ì‹œê°„ëŒ€ë³„ ê±°ë˜ëŸ‰ ê¸‰ì¦ ì¢…ëª©ì„ íƒì§€í•˜ì—¬ ë‹¨ê¸° ëª¨ë©˜í…€ íŒŒì•… ì§€ì›.

### 5. ğŸ“§ ë§ì¶¤í˜• ë‰´ìŠ¤ë ˆí„° (Personalized Newsletter)
- **ë§¤ì¼ ì•„ì¹¨ ë°°ë‹¬ë˜ëŠ” ì¸ì‚¬ì´íŠ¸**: ìˆ˜ì§‘ëœ ì‹œì¥ ë°ì´í„°ì™€ ì¶”ì²œ ì¢…ëª©ì„ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ì˜ ë‰´ìŠ¤ë ˆí„°ë¡œ ìë™ ìƒì„±í•©ë‹ˆë‹¤.
- **ê°œì¸í™”ëœ ì½˜í…ì¸ **: ì‚¬ìš©ìì˜ íˆ¬ì ì„±í–¥ì— ë§ì¶˜ ì‹œì¥ ìš”ì•½ê³¼ ì¶”ì²œ ì¢…ëª© ë‰´ìŠ¤ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.

### 6. ğŸ”„ Outbound DB-Local ë™ê¸°í™” (Automated Data Sync)
- **ì‹¤ì‹œê°„ DB ë™ê¸°í™”**: MySQL í´ë¼ìš°ë“œ DBì™€ ë¡œì»¬ ë°ì´í„° ê°„ì˜ ì›í™œí•œ ë™ê¸°í™”ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.
- **ì•ˆì •ì ì¸ ë°ì´í„° ë¡œë“œ**: ë„¤íŠ¸ì›Œí¬ ì´ìŠˆ ë°œìƒ ì‹œì—ë„ ë¡œì»¬ JSON ìºì‹œë¥¼ í†µí•œ ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ ìš´ì˜.

---

## ğŸ—ï¸ System Architecture

```mermaid
flowchart TD
    subgraph "Data Acquisition Layer"
        S1["scraper.py (BS4/Requests)"]
        S2["scraper.py (Selenium)"]
        S3["scraper.py (pykrx)"]
    end

    subgraph "Automation & Sync"
        SJ["scheduler_job.py (APScheduler)"]
        RS["outbound/run_all.py (DB Sync)"]
    end

    subgraph "Analysis Engine"
        AN["analyzer.py (Quant Scoring)"]
        RT["rtd_analyzer.py (Momentum)"]
    end

    subgraph "Persistence Layer"
        DB[("MySQL Database")]
        LC[("Local JSON/CSV Cache")]
    end

    subgraph "Presentation Layer"
        APP["app.py (Streamlit WebApp)"]
    end

    S1 & S2 & S3 --> Persistence
    SJ --> S1
    Persistence --> AN & RT
    RS --> Persistence
    AN & RT --> APP
```

---

## ğŸ› ï¸ Tech Stack

| Category | Technology |
| :--- | :--- |
| **Frontend** | Streamlit, Plotly, Matplotlib, Seaborn |
| **Backend** | Python 3.12+, APScheduler |
| **Scraping** | BeautifulSoup4, Requests, Selenium, Pykrx |
| **Analysis** | Pandas, NumPy |
| **Database** | MySQL (SQLAlchemy, PyMySQL), JSON/CSV |
| **Security** | Bcrypt (Password Hashing) |
| **Package Management** | uv |

---

## ğŸ“‚ Project Structure

```bash
miniproject_1/
â”œâ”€â”€ app.py              # Streamlit ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”œâ”€â”€ analyzer.py         # íˆ¬ì ì„±í–¥ ë° ì¢…ëª© ì¶”ì²œ ì—”ì§„
â”œâ”€â”€ scraper.py          # ë©€í‹° ì†ŒìŠ¤ ë°ì´í„° ìŠ¤í¬ë˜í¼
â”œâ”€â”€ scheduler_job.py    # ë°ì´í„° ìë™ ìˆ˜ì§‘ ìŠ¤ì¼€ì¤„ëŸ¬
â”œâ”€â”€ outbound/           # DB-Local ë™ê¸°í™” ìŠ¤í¬ë¦½íŠ¸ ëª¨ìŒ
â”‚   â””â”€â”€ run_all.py      # í†µí•© ë™ê¸°í™” ë§ˆìŠ¤í„° ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ database_script/    # DB í…Œì´ë¸” ê´€ë¦¬ ë° ë°ì´í„° ì‚½ì… ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ data/               # ë¡œì»¬ ìºì‹œ ë°ì´í„° (CSV, JSON)
â”œâ”€â”€ out_data/           # DBì—ì„œ ì¶”ì¶œëœ ìµœì¢… JSON ë°ì´í„°
â”œâ”€â”€ schema.sql          # MySQL ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â””â”€â”€ pyproject.toml      # ì˜ì¡´ì„± ë° í”„ë¡œì íŠ¸ ë©”íƒ€ë°ì´í„°
```

---

## ğŸš€ Getting Started

### Prerequisites
- Python 3.12+
- `uv` (Fast Python Package Installer)

### Installation
```bash
# 1. ë ˆí¬ì§€í† ë¦¬ í´ë¡ 
git clone [repository_url]
cd miniproject_1

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
uv sync

# 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì— DB ì—°ê²° ì •ë³´ ì…ë ¥
```

### Running the App
```bash
# Streamlit ì‹¤í–‰
uv run streamlit run app.py

# (ì„ íƒ) ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰
uv run python scheduler_job.py
```
# ë©”ì¼ ìˆ˜ì‹  ë™ì˜í•œ ìœ ì €ì—ê²Œ í•´ë‹¹ë˜ëŠ” ìœ í˜•ì˜ ë‰´ìŠ¤ ë³´ë‚´ê¸°
uv run -m mailer.send_newsletters   

---

## ğŸ—„ï¸ Database Schema

í”„ë¡œì íŠ¸ëŠ” ì´ 7ê°œì˜ ìœ ê¸°ì ì¸ í…Œì´ë¸” êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.
- **users**: ì‚¬ìš©ì ê³„ì • ì •ë³´
- **user_profile**: ì„¤ë¬¸ ê²°ê³¼ ë° íˆ¬ì ì„±í–¥ ì •ë³´
- **stocks**: ì¢…ëª© ë§ˆìŠ¤í„° ì •ë³´
- **price_snapshots**: ì‹œê³„ì—´ ì‹œì„¸ ë°ì´í„°
- **analysis_signals**: ì•Œê³ ë¦¬ì¦˜ íˆ¬ì ì‹ í˜¸
- **recommendations**: ì„±í–¥ë³„ ì¢…ëª© ì¶”ì²œ ë‚´ì—­
- **newsletters**: ìë™ ìƒì„±ëœ ë‰´ìŠ¤ë ˆí„° ì•„ì¹´ì´ë¸Œ

---

## ğŸ›¡ï¸ License
ì´ í”„ë¡œì íŠ¸ëŠ” êµìœ¡ ë° í¬íŠ¸í´ë¦¬ì˜¤ ëª©ì ìœ¼ë¡œ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.

---
*Developed by 1íŒ€ ë¯¸ë‹ˆí”„ë¡œì íŠ¸ (LUMINA CAPITAL)*
